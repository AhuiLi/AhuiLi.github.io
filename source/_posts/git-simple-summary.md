---
title: git简单介绍
date: 2016-11-24 18:38:18
tags: [git]
categories: php
---

### git使用快速入门
本次git的简单理解目的为了帮助不理解的童鞋更快理解git使用，不光是死记硬背那几个步骤，理解了就不用背了。大家闲着无聊可以看看，没有使用过git的童鞋可以用这个快速入门，先保证能够正常的工作使用，如果时间允许还是可以去看网上的git相关教程了解更多。
<!--more-->
**1. git常用命令：**
```git
git status #查看当前状态，
git add #把修改的文件加入到暂缓区
git commit -m"这里写描述性文字，备注本次提交说明"#这个和add一起使用，文件先add（如果多个文件，可以add多次），然后再去commit
git pull origin 远程分支 # 远程分支名不要写错、
git push origin 远程分支 # 同上
git log #查看历史版本，对版本回退有作用
git branch #查看分支，当然分支前面会有星号提示，加上新的分支名可以新建分支
git checkout 分支名 #切换分支
git merge 需要合并的分支名 #合并，比如当前分支是test，git merge ahui，就把ahui合并到test上
git diff 文件（包含路径）# 查看这个文件的修改
```
**2. git分支与仓库理解**

平时我们所说的提交和下拉，push和pull。提交到哪和从哪拉取？

* 裸仓库   
git init --bare 仓库名。这个命令不加--bare的话就是初始化一个正常的仓库，和clone的仓库一样。加--bare的话就是新建裸仓库。**裸仓库**就是我们pull和push的地方。裸仓库没有工作区，也就是不像我们本地的包含代码文件等。

* 服务器放网站的仓库和自己本地仓库   
为什么我们push了之后直接访问网站会不好使？其实服务器放网站代码的仓库和本地放网站代码的仓库是一样的，只是因为它在服务器上才会让人误解为我们提交到的地方就是它。so，别人提交完了，会提交到裸仓库，然后你就可以pull了，服务器放代码的仓库也需要从裸仓库pull之后代码才会同步。

* 分支   
git branch ahui，就会新建和分支，名字叫做ahui。本地分支之间要保持同步用merge合并，本地想同步到远程裸仓库，就用push。举个例子：当你的本地test分支从远程裸仓库拉下来代码之后，test和远程现在是同步的，那么本地还有一个你自己的分支ahui，ahui也需要同步的话就需要切换到ahui分支，然后在ahui分支上使用```git merge test```。

* git使用大致流程   
![git使用大致流程](/img/git-simple.jpg)

上图还没有说完。接图中：    

```markdown
所以这时候的裸仓库test分支已经有了新的修改，所以需要先pull，保证本地和远程同步。然后就可以push了。push完成，这时候服务器放代码
的仓库还没有同步到，需要管理员把服务器拉一下。ok大功告成，还差一些，我们还需要切换回自己的分支ahui，然后把本地test分支merge
到ahui。因为刚才在本地test拉了一下远程的代码，所以需要把ahui分支同步到最新。此时工作完成！
```   

### 总结

上面写了那么多描述性文字，看着很累，当你理解了之后，就可以总结为一下几部操作：
    
1. 自己分支修改后 git add，git commit

2. git checkout   ====切换到test

3. git merge ahui   ====合并ahui分支的修改

4. git pull origin test ====先从远处拉取一下，不管别人题没提交，省得报错

5. git push origin test ====提交

6. git checkout ahui ====切换回自己分支
7. git merge test ====把本地test分支合并到自己分支上，保持自己的分支和线上同步。注意：如果第四步没有拉到东西，这步可省略

 以上纯是自己的理解，由于水平有限，有理解不对的地方还请指出。时间仓促，以后再加上关于版本回退，解决冲突等